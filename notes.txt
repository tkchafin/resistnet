# docker build
docker build -t tkchafin/resistnet:0.3
docker push tkchafin/resistnet:0.3

# test run
docker run -v /Users/tyler/programs/autostreamtree/data/:/root/data -v /Users/tyler/programs/resistnet/:/root/resistnet --platform linux/amd64 -it tkchafin/resistnet:0.3

# minimal subgraph
python3 ./resistnet/resistnet.py -s data/juvpop.streamTree.shp -g data/juvpop.popGenDistMat.txt -c data/juvpop.pointCoords.txt -v sgr_dk_rav,tmp_dc_cyr --minimize --out resistnet/out/out --fittedD fittedD_x

# full subgraph
python3 ./resistnet/resistnet.py -s data/juvpop.streamTree.shp -g data/juvpop.popGenDistMat.txt -c data/juvpop.pointCoords.txt -v sgr_dk_rav,tmp_dc_cyr --out resistnet/out/out --fittedD fittedD_x


python3 ./resistnet/resistnet.py \
	-s data/juvpop.streamTree.shp \
	-g data/juvpop.popGenDistMat.txt \
	-c data/juvpop.pointCoords.txt \
	-V resistnet/data/selected_vars.txt \
	--out resistnet/out/out \
	--dist_col fittedD_x \
	--fixWeight \
	--pop_agg MEDIAN \
	--efit_agg ARITH \
	--reachid_col HYRIV_ID \
	-P 5 -G 2
